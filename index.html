<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>VIRAL NEWS</title>

<meta name="description" content="Viral News – Latest headlines from all categories" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<link rel="canonical" href="https://viralnewsalert.com/" />

<!-- Open Graph -->
<meta property="og:title" content="Viral News" />
<meta property="og:description" content="Latest headlines from all categories." />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://viralnewsalert.com/" />

<!-- Twitter -->
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="Viral News" />
<meta name="twitter:description" content="Latest headlines from all categories." />

<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" href="/favicon.ico">
<link rel="manifest" href="/site.webmanifest">
<meta name="theme-color" content="#081737">

<style>
  :root{
    --bg:#0a1d3f;
    --bg2:#081737;
    --panel:#0f264f;
    --line:#334a7a;
    --text:#ffffff;
    --muted:#cfd8ea;
    --accent:#ffcc00;
    --danger:#ff6b6b;
    --shadow: 0 10px 24px rgba(0,0,0,.25);
    --radius: 12px;
  }

  *{ box-sizing: border-box; }
  body{
    margin:0;
    font-family: Arial, sans-serif;
    background: var(--bg);
    color: var(--text);
  }

  header{
    background: var(--bg2);
    position: sticky;
    top:0;
    z-index:1000;
    border-bottom: 1px solid rgba(255,255,255,.08);
  }

  .top-row{
    display:flex;
    align-items:center;
    justify-content:center;
    padding: 12px 18px 10px;
    position: relative;
  }
  .brand{
    margin:0;
    font-size: 22px;
    letter-spacing: .7px;
    font-weight: 800;
  }

  /* ✅ Left hamburger */
  .hamburger{
    position:absolute;
    left: 10px;
    top: 50%;
    transform: translateY(-50%);
    width: 42px;
    height: 38px;
    border-radius: 12px;
    border: 1px solid rgba(255,255,255,.14);
    background: rgba(255,255,255,.05);
    color:#fff;
    cursor:pointer;
    display:flex;
    align-items:center;
    justify-content:center;
    box-shadow: 0 6px 16px rgba(0,0,0,.18);
  }
  .hamburger:hover{ border-color: rgba(255,204,0,.35); color: var(--accent); }
  .hamburger:active{ transform: translateY(-50%) scale(.98); }
  .hamburger .bars{
    width: 18px;
    height: 14px;
    position: relative;
  }
  .hamburger .bars span{
    position:absolute;
    left:0;
    right:0;
    height:2px;
    background: currentColor;
    border-radius: 999px;
    opacity:.95;
  }
  .hamburger .bars span:nth-child(1){ top:0; }
  .hamburger .bars span:nth-child(2){ top:6px; }
  .hamburger .bars span:nth-child(3){ top:12px; }

  /* ✅ Dropdown menu (About/Contact/Privacy ONLY) */
  .menu{
    position:absolute;
    left: 10px;
    top: calc(100% + 10px);
    width: 220px;
    background: var(--panel);
    border: 1px solid rgba(255,255,255,.10);
    border-radius: 14px;
    box-shadow: var(--shadow);
    overflow:hidden;
    display:none;
    z-index: 2000;
  }
  .menu a{
    display:flex;
    align-items:center;
    padding: 12px 12px;
    color:#fff;
    text-decoration:none;
    font-weight: 900;
    font-size: 13px;
    border-bottom: 1px solid rgba(255,255,255,.07);
  }
  .menu a:last-child{ border-bottom:none; }
  .menu a:hover{
    background: rgba(255,204,0,.10);
    color: var(--accent);
  }

  /* ✅ Top-right auth buttons */
  .auth-area{
    position:absolute;
    right: 14px;
    top: 50%;
    transform: translateY(-50%);
    display:flex;
    align-items:center;
    gap: 10px;
  }
  .auth-btn{
    display:inline-flex;
    align-items:center;
    gap: 8px;
    padding: 8px 12px;
    border-radius: 999px;
    border: 1px solid rgba(255,255,255,.18);
    background: rgba(255,255,255,.06);
    color:#fff;
    text-decoration:none;
    font-size: 13px;
    font-weight: 900;
    cursor:pointer;
    user-select:none;
    white-space: nowrap;
  }
  .auth-btn:hover{
    border-color: rgba(255,204,0,.35);
    color: var(--accent);
  }
  .auth-btn.primary{
    background: rgba(255,204,0,.14);
    border-color: rgba(255,204,0,.28);
    color: var(--accent);
  }

  /* ✅ Account modal */
  .modal-overlay{
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,.55);
    display: none;
    align-items: center;
    justify-content: center;
    padding: 18px;
    z-index: 9999;
  }
  .modal{
    width: 100%;
    max-width: 420px;
    background: var(--panel);
    border: 1px solid rgba(255,255,255,.10);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    overflow: hidden;
  }
  .modal-head{
    display:flex;
    align-items:center;
    justify-content: space-between;
    padding: 12px 14px;
    background: rgba(255,255,255,.03);
    border-bottom: 1px solid rgba(255,255,255,.08);
  }
  .modal-title{
    margin:0;
    font-size: 14px;
    font-weight: 900;
    letter-spacing: .3px;
  }
  .modal-close{
    border: none;
    background: transparent;
    color: #fff;
    font-size: 22px;
    cursor: pointer;
    line-height: 1;
    padding: 0 6px;
  }
  .modal-body{
    padding: 14px;
  }
  .field{
    margin-bottom: 10px;
    color: var(--muted);
    font-size: 13px;
  }
  .field strong{
    color:#fff;
  }

  .catbar{
    display:flex;
    gap: 10px;
    overflow-x: auto;
    padding: 10px 12px 12px;
    border-top: 1px solid rgba(255,255,255,.06);
    scroll-snap-type: x mandatory;
    -webkit-overflow-scrolling: touch;
  }
  .catbar::-webkit-scrollbar{ height: 8px; }
  .catbar::-webkit-scrollbar-thumb{
    background: rgba(255,255,255,.18);
    border-radius: 999px;
  }

  .catbtn{
    scroll-snap-align: start;
    flex: 0 0 auto;
    display:inline-flex;
    align-items:center;
    gap: 8px;
    padding: 9px 12px;
    border-radius: 999px;
    border: 1px solid rgba(255,255,255,.12);
    background: rgba(255,255,255,.04);
    color:#fff;
    text-decoration:none;
    font-size: 13px;
    font-weight: 800;
    user-select:none;
    white-space: nowrap;
  }
  .catbtn:hover{ border-color: rgba(255,204,0,.35); color: var(--accent); }
  .catbtn.active{
    background: rgba(255,204,0,.16);
    border-color: rgba(255,204,0,.30);
    color: var(--accent);
  }

  #news-container{
    max-width: 1120px;
    margin: 18px auto 70px;
    padding: 0 16px;
  }

  .section-title{
    display:flex;
    align-items:center;
    gap:10px;
    margin: 26px 0 14px;
  }
  .section-title .bar{
    width:4px; height:18px;
    background: var(--accent);
    border-radius: 10px;
  }
  .section-title h2{
    margin:0;
    font-size: 18px;
    letter-spacing: .3px;
  }
  .section-title .viewall{
    margin-left:auto;
    color: var(--accent);
    font-size: 13px;
    text-decoration:none;
  }
  .section-title .viewall:hover{ text-decoration: underline; }

  .card{
    background: var(--panel);
    border-radius: var(--radius);
    overflow:hidden;
    box-shadow: var(--shadow);
    border: 1px solid rgba(255,255,255,.06);
  }

  .hero-grid{
    display:grid;
    grid-template-columns: 1.35fr .65fr;
    gap: 14px;
    margin-top: 12px;
  }
  .hero-main{ display:flex; flex-direction:column; }
  .hero-main .img{
    width:100%;
    aspect-ratio: 16/9;
    background: linear-gradient(135deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
    position:relative;
    overflow:hidden;
  }
  .hero-main .img img{ width:100%; height:100%; object-fit:cover; display:block; }
  .hero-main .body{ padding: 14px 14px 12px; }

  .kicker{
    display:flex;
    gap:10px;
    align-items:center;
    margin-bottom: 8px;
    color: var(--muted);
    font-size: 12px;
  }
  .chip{
    background: rgba(255,204,0,.16);
    color: var(--accent);
    border: 1px solid rgba(255,204,0,.25);
    padding: 3px 8px;
    border-radius: 999px;
    font-weight: 800;
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing:.4px;
  }
  .hero-title{
    font-size: 22px;
    margin: 0 0 6px;
    line-height: 1.25;
  }
  .hero-title a{ color:#fff; text-decoration:none; }
  .hero-title a:hover{ color: var(--accent); }
  .hero-desc{
    margin: 0;
    color: var(--muted);
    font-size: 14px;
    line-height: 1.5;
  }

  .hero-side{
    display:flex;
    flex-direction:column;
    gap: 10px;
  }
  .side-item{
    display:grid;
    grid-template-columns: 86px 1fr;
    gap:10px;
    padding: 10px;
    background: var(--panel);
    border-radius: var(--radius);
    border: 1px solid rgba(255,255,255,.06);
  }
  .side-thumb{
    width:86px;
    height:64px;
    border-radius: 10px;
    overflow:hidden;
    background: rgba(255,255,255,.06);
  }
  .side-thumb img{ width:100%; height:100%; object-fit:cover; display:block; }
  .side-title{
    margin:0;
    font-size: 13px;
    line-height: 1.25;
    font-weight: 900;
  }
  .side-title a{ color:#fff; text-decoration:none; }
  .side-title a:hover{ color: var(--accent); }
  .meta{
    margin-top: 6px;
    font-size: 12px;
    color: var(--muted);
  }

  .strip{ display:grid; grid-template-columns: 1fr; gap: 10px; }
  .strip-item{
    display:flex;
    align-items:flex-start;
    padding: 12px;
    background: rgba(255,255,255,.03);
    border: 1px solid rgba(255,255,255,.06);
    border-radius: var(--radius);
  }
  .strip-item a{
    color:#fff;
    text-decoration:none;
    font-weight: 900;
    line-height: 1.25;
  }
  .strip-item a:hover{ color: var(--accent); }
  .strip-meta{
    color: var(--muted);
    font-size: 12px;
    margin-top: 4px;
  }

  .cat-grid{
    display:grid;
    grid-template-columns: 1fr;
    gap: 14px;
  }
  .cat-block{ display:flex; flex-direction:column; gap: 10px; }

  .lead{
    display:grid;
    grid-template-columns: 120px 1fr;
    gap: 12px;
    padding: 12px;
    background: rgba(255,255,255,.03);
    border: 1px solid rgba(255,255,255,.06);
    border-radius: var(--radius);
  }
  .lead .thumb{
    width:120px;
    height:84px;
    border-radius: 12px;
    overflow:hidden;
    background: rgba(255,255,255,.06);
  }
  .lead .thumb img{ width:100%; height:100%; object-fit:cover; display:block; }
  .lead h3{ margin:0; font-size: 14px; line-height: 1.25; }
  .lead h3 a{ color:#fff; text-decoration:none; font-weight: 900; }
  .lead h3 a:hover{ color: var(--accent); }

  .list{ display:flex; flex-direction:column; gap: 8px; }
  .list-row{
    display:flex;
    gap: 10px;
    align-items:center;
    padding: 10px 12px;
    background: rgba(255,255,255,.02);
    border: 1px solid rgba(255,255,255,.05);
    border-radius: 12px;
  }
  .list-row .mini{
    width:56px;
    height:42px;
    border-radius: 10px;
    background: rgba(255,255,255,.06);
    overflow:hidden;
    flex: 0 0 auto;
  }
  .list-row .mini img{ width:100%; height:100%; object-fit:cover; display:block; }
  .list-row a{
    color:#fff;
    text-decoration:none;
    font-weight: 900;
    font-size: 13px;
    line-height: 1.25;
    display:block;
  }
  .list-row a:hover{ color: var(--accent); }
  .list-row .time{
    margin-left:auto;
    color: var(--muted);
    font-size: 12px;
    flex: 0 0 auto;
  }

  .rail{
    display:flex;
    gap: 12px;
    overflow-x: auto;
    padding-bottom: 6px;
    scroll-snap-type: x mandatory;
  }
  .rail::-webkit-scrollbar{ height: 8px; }
  .rail::-webkit-scrollbar-thumb{
    background: rgba(255,255,255,.18);
    border-radius: 999px;
  }
  .rail-card{
    min-width: 260px;
    max-width: 260px;
    scroll-snap-align: start;
    background: rgba(255,255,255,.03);
    border: 1px solid rgba(255,255,255,.06);
    border-radius: var(--radius);
    overflow:hidden;
  }
  .rail-card .thumb{
    width:100%;
    height: 150px;
    background: rgba(255,255,255,.06);
    overflow:hidden;
  }
  .rail-card .thumb img{ width:100%; height:100%; object-fit:cover; display:block; }
  .rail-card .body{ padding: 10px 12px 12px; }
  .rail-card .title{ margin:0; font-size: 14px; line-height: 1.25; }
  .rail-card .title a{
    color:#fff;
    text-decoration:none;
    font-weight: 900;
  }
  .rail-card .title a:hover{ color: var(--accent); }
  .rail-card .meta{ margin-top: 8px; font-size: 12px; color: var(--muted); }

  .text-only{
    display:flex;
    flex-direction:column;
    gap: 10px;
  }
  .text-only .row{
    padding: 12px;
    background: rgba(255,255,255,.03);
    border: 1px solid rgba(255,255,255,.06);
    border-radius: var(--radius);
  }
  .text-only .row a{
    color:#fff;
    text-decoration:none;
    font-weight: 900;
    line-height: 1.25;
  }
  .text-only .row a:hover{ color: var(--accent); }
  .text-only .meta{ margin-top: 6px; }

  .more-wrap{ margin-top: 10px; }
  .more-list{
    display:flex;
    flex-direction:column;
    gap: 10px;
  }
  .more-item{
    display:grid;
    grid-template-columns: 92px 1fr;
    gap: 12px;
    padding: 12px;
    background: rgba(255,255,255,.03);
    border: 1px solid rgba(255,255,255,.06);
    border-radius: var(--radius);
  }
  .more-thumb{
    width:92px;
    height:72px;
    border-radius: 12px;
    background: rgba(255,255,255,.06);
    overflow:hidden;
  }
  .more-thumb img{ width:100%; height:100%; object-fit:cover; display:block; }
  .more-item a{
    color:#fff;
    text-decoration:none;
    font-weight: 900;
    line-height: 1.25;
    display:block;
  }
  .more-item a:hover{ color: var(--accent); }
  .more-meta{ margin-top: 6px; color: var(--muted); font-size: 12px; }

  .load-hint{
    text-align:center;
    margin: 16px 0 0;
    color: var(--muted);
    font-size: 12px;
  }

  .error-box{
    background: #331a1a;
    border: 1px solid var(--danger);
    padding: 12px;
    border-radius: var(--radius);
  }

  /* ✅ Footer exists but is hidden on homepage (menu replaces it) */
  footer{
    display:none;
    margin-top: 40px;
    padding: 24px 0 50px;
    text-align:center;
    color: var(--muted);
    font-size: 13px;
  }
  footer a{
    color: var(--accent);
    text-decoration:none;
    margin: 0 10px;
    font-weight: 800;
  }
  footer a:hover{ text-decoration: underline; }

  @media (max-width: 980px){
    .hero-grid{ grid-template-columns: 1fr; }
    .hero-side{ flex-direction: row; flex-wrap: wrap; }
    .side-item{ grid-template-columns: 70px 1fr; flex: 1 1 280px; }
  }
  @media (max-width: 760px){
    #news-container{ padding: 0 12px; }
    .brand{ font-size: 20px; }
    .auth-area{ right: 10px; }
    .auth-btn{ padding: 7px 10px; font-size: 12px; }
  }
</style>
</head>

<body>

<header>
  <div class="top-row">
    <!-- ✅ Hamburger + dropdown -->
    <button class="hamburger" id="hamburger" type="button" aria-label="Menu" aria-haspopup="true" aria-expanded="false">
      <div class="bars" aria-hidden="true">
        <span></span><span></span><span></span>
      </div>
    </button>

    <div class="menu" id="menu">
      <a href="/about-us.html">About Us</a>
      <a href="/contact.html">Contact</a>
      <a href="/privacy-policy.html">Privacy Policy</a>
    </div>

    <h1 class="brand">VIRAL NEWS</h1>

    <!-- ✅ Top-right auth buttons -->
    <div class="auth-area">
      <button class="auth-btn primary" id="btn-signin" type="button">Sign in</button>
      <button class="auth-btn" id="btn-account" type="button" style="display:none;">My Account</button>
    </div>
  </div>

  <nav class="catbar" id="catbar">
    <a class="catbtn active" href="/">Home</a>
    <a class="catbtn" href="/category/breaking.html">Breaking</a>
    <a class="catbtn" href="/category/trending.html">Trending</a>
    <a class="catbtn" href="/category/top-headlines.html">Top Headlines</a>
    <a class="catbtn" href="/category/general.html">General News</a>
    <a class="catbtn" href="/category/world.html">World News</a>
    <a class="catbtn" href="/category/politics.html">Politics</a>
    <a class="catbtn" href="/category/technology.html">Technology</a>
    <a class="catbtn" href="/category/sports.html">Sports</a>
    <a class="catbtn" href="/category/health-fitness.html">Health & Fitness</a>
    <a class="catbtn" href="/category/entertainment.html">Entertainment</a>
  </nav>
</header>

<!-- ✅ My Account modal (email + logout) -->
<div class="modal-overlay" id="account-modal">
  <div class="modal" role="dialog" aria-modal="true" aria-labelledby="account-title">
    <div class="modal-head">
      <h3 class="modal-title" id="account-title">My Account</h3>
      <button class="modal-close" id="account-close" aria-label="Close">&times;</button>
    </div>
    <div class="modal-body">
      <div class="field">Signed in as: <strong id="account-email">—</strong></div>
      <button class="auth-btn" id="btn-logout" type="button" style="border-color: rgba(255,107,107,.45); color: var(--danger);">
        Logout
      </button>
    </div>
  </div>
</div>

<div id="news-container">Loading…</div>

<!-- Hidden footer (prevents flash + sitemap never shown) -->
<footer>
  <a href="/about-us.html">About Us</a>
  <a href="/contact.html">Contact</a>
  <a href="/privacy-policy.html">Privacy Policy</a>
  <a href="/sitemap.xml">Sitemap</a>
</footer>

<script>
(function(){
  var API_BASE = "https://viral-news-backend-3.onrender.com";
  var HOMEPAGE_URL = API_BASE + "/homepage";

  var HOME_CACHE_KEY = "vn_homepage_cache_v1";
  var HOME_CACHE_TTL = 60 * 1000;

  // ✅ Auth storage keys
  var ACCESS_KEY = "access_token";
  var USER_EMAIL_KEY = "user_email";

  function escapeHtml(s){
    s = (s || "").toString();
    return s
      .replace(/&/g, "&amp;")
      .replace(/</g, "&lt;")
      .replace(/>/g, "&gt;")
      .replace(/"/g, "&quot;")
      .replace(/'/g, "&#039;");
  }

  function stripHtml(s){
    return (s || "").toString().replace(/<[^>]*>/g, " ").replace(/\s+/g, " ").trim();
  }

  function formatTime(dt){
    var d = new Date(dt);
    if (isNaN(d.getTime())) return "";
    var diffMs = Date.now() - d.getTime();
    var mins = Math.floor(diffMs / 60000);
    if (mins < 1) return "now";
    if (mins < 60) return mins + "m";
    var hrs = Math.floor(mins / 60);
    if (hrs < 24) return hrs + "h";
    var days = Math.floor(hrs / 24);
    return days + "d";
  }

  function safeTime(a){ return a.published_at || a.created_at || ""; }
  function hasImage(a){ return !!((a.image_url || "").trim()); }

  function optimizeImg(url){
    if (!url) return "";
    var u = String(url);
    if (u.indexOf("images.pexels.com") !== -1){
      var hasQ = u.indexOf("?") !== -1;
      return u + (hasQ ? "&" : "?") + "auto=compress&cs=tinysrgb&w=900";
    }
    return u;
  }

  function pickImage(a){
    var img = (a.image_url || "").trim();
    return img ? optimizeImg(img) : null;
  }

  function slugify(s){
    s = (s || "").toString().toLowerCase();
    s = s.replace(/&/g, " and ");
    s = s.replace(/[^a-z0-9]+/g, "-");
    s = s.replace(/-+/g, "-").replace(/^-|-$/g, "");
    return s || "story";
  }

  function linkToArticle(a){
    var cat = slugify(a.category || "general");
    var slug = slugify(a.title || "story");
    return "/news/" + cat + "/" + slug + "-" + encodeURIComponent(a.id) + ".html";
  }

  function viewAllLink(href){
    return '<a class="viewall" href="' + href + '">View all</a>';
  }

  function sectionHeader(title, viewAllHref){
    var viewAll = viewAllHref ? viewAllLink(viewAllHref) : "";
    return '' +
      '<div class="section-title">' +
        '<div class="bar"></div>' +
        '<h2>' + escapeHtml(title) + '</h2>' +
        viewAll +
      '</div>';
  }

  function take(arr, n){ return (arr || []).slice(0, n); }

  function sortNewestFirst(arr){
    arr = (arr || []).slice();
    arr.sort(function(a,b){
      var da = new Date(safeTime(a)).getTime() || 0;
      var db = new Date(safeTime(b)).getTime() || 0;
      return db - da;
    });
    return arr;
  }

  function pickTopWithImages(items, count){
    items = sortNewestFirst(items || []);
    var withImg = [];
    for (var i=0;i<items.length;i++){
      if (hasImage(items[i])) withImg.push(items[i]);
      if (withImg.length >= count) break;
    }
    return withImg;
  }

  function pickFirstWithImage(items){
    items = sortNewestFirst(items || []);
    for (var i=0;i<items.length;i++){
      if (hasImage(items[i])) return items[i];
    }
    return items.length ? items[0] : null;
  }

  function readHomeCache(){
    try{
      var raw = localStorage.getItem(HOME_CACHE_KEY);
      if (!raw) return null;
      var obj = JSON.parse(raw);
      if (!obj || !obj.t || !obj.data) return null;
      if (Date.now() - obj.t > HOME_CACHE_TTL) return null;
      return obj.data;
    }catch(e){
      return null;
    }
  }

  function writeHomeCache(data){
    try{
      localStorage.setItem(HOME_CACHE_KEY, JSON.stringify({ t: Date.now(), data: data }));
    }catch(e){}
  }

  function fetchWithTimeout(url, ms){
    return new Promise(function(resolve, reject){
      var timer = setTimeout(function(){
        reject(new Error("Request timed out after " + ms + "ms"));
      }, ms);

      fetch(url, { cache: "default" })
        .then(function(res){ clear
